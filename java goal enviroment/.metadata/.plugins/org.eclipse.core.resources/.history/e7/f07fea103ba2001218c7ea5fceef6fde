package XML;

import java.util.LinkedList;

import org.xml.sax.XMLReader;
import org.xml.sax.helpers.DefaultHandler;
import eis.iilang.IILElement;

public abstract class ParameterHandler extends DefaultHandler 
{
	
	private XMLReader reader;
	private IILElement element;
	private LinkedList<Object> params = new LinkedList<>();
	
	ParameterHandler parent;
	
	public ParameterHandler(ParameterHandler parent, XMLReader reader)
	{
		this.reader = reader;
		this.parent = parent;
	}
	
	@Override
	public void endElement (String uri, String name, String qname)
	{
		endInternElement(uri, name, qname);
		if(parent != null)
		{
			this.parent.params.add(this.element);
			reader.setContentHandler(parent);
		}
	}
	
	protected void endInternElement(String uri, String name, String qname)
	{
		
	}

	protected LinkedList<Object> getParams()
	{
		return this.params;
	}
	
	protected XMLReader getReader()
	{
		return reader;
	}
	
	protected void setElement(IILElement element)
	{
		this.element = element;
	}
	
	public IILElement getElement()
	{
		return this.element;
	}
	
	public <T extends IILElement> T getElementAs() {
	    return (T)getElement();
	}

}
