package XML;

import org.xml.sax.XMLReader;
import org.xml.sax.helpers.DefaultHandler;
import eis.iilang.IILElement;

public abstract class ParameterHandler extends DefaultHandler 
{
	
	private XMLReader reader;
	private IILElement element;
	
	ParameterHandler parent;
	
	public ParameterHandler(ParameterHandler parent, XMLReader reader)
	{
		this.reader = reader;
		this.parent = parent;
	}
	
	protected void endInternElement(String uri, String name, String qname)
	{
		
	}
	
	@Override
	public void endElement (String uri, String name, String qname)
	{
		endInternElement(uri, name, qname);
		
		if(parent != null)
		{
			AddtoParent(this.parent.element);
			reader.setContentHandler(parent);
		}
	}
	
	protected abstract void AddtoParent(Object parent);
	
	protected XMLReader getReader()
	{
		return reader;
	}
	
	protected void setElement(IILElement element)
	{
		this.element = element;
	}
	
	public IILElement getElement()
	{
		return this.element;
	}
	
	public <T extends IILElement> T getElementAs() {
	    return (T)getElement();
	}

}
